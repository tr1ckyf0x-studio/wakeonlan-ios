import XCTest

@testable import WakeOnLanService

final class MagicPacketBuilderTests: XCTestCase {
    func testBuild() throws {
        let magicPacket = try MagicPacketBuilder.build(for: TestData.testableMacAddress)

        XCTAssertEqual(
            magicPacket,
            TestData.expectedMagicPacket
        )
    }
}

extension MagicPacketBuilderTests {
    private enum TestData {
        static let testableMacAddress = "01:02:03:AB:CD:EF"
        static let expectedMagicPacket: [UInt8] = [
            0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF,
            0x01, 0x02, 0x03, 0xAB, 0xCD, 0xEF
        ]
    }
}
